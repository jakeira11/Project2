<!-- Doctor lookup form -->
<!-- 
This page will allow a customer to search for a doctor
based on several conditions, including:

Language
Gender
Age
Specialization
Location (radius in miles)
-->

<apex:page controller="DoctorLookupCtrl" sidebar="false">

    <apex:slds />
    <apex:form id="docSearchForm">
        <apex:pageBlock >

            <apex:pageBlockSection >
                <h1 style="font-size:30px;text-align:center">Find a Doctor</h1>
            </apex:pageBlockSection>

            <apex:pageBlockSection columns="2" collapsible="false">

                <apex:pageBlockSectionItem >
                    <apex:outputLabel value="Gender" />
                    <apex:selectList size="1" value="{!genderSelection}">
                        <apex:selectOptions value="{!genderItems}"/>  
                    </apex:selectList>
                </apex:pageBlockSectionItem>

                <apex:pageBlockSectionItem >
                    <apex:outputLabel value="Age" />
                    <apex:selectList size="1" value="{!ageSelection}">
                        <apex:selectOptions value="{!ageItems}"/>  
                    </apex:selectList>
                </apex:pageBlockSectionItem>

                <apex:pageBlockSectionItem >
                    <apex:outputLabel value="Language" />
                    <apex:selectList size="1" value="{!languageSelection}">
                        <apex:selectOptions value="{!languageItems}"/>  
                    </apex:selectList>
                </apex:pageBlockSectionItem>

                <apex:pageBlockSectionItem >
                    <apex:outputLabel value="Specialization" />
                    <apex:selectList size="1" value="{!specialSelect}">
                        <apex:selectOptions value="{!specializationItems}"/>  
                    </apex:selectList>
                </apex:pageBlockSectionItem>

                <apex:pageBlockSectionItem >
                    <apex:outputLabel value="Traveling from" />
                    <apex:outputText value="{!defaultaddr}" />
                </apex:pageBlockSectionItem>    

                <apex:pageBlockSectionItem >
                    <apex:outputLabel value="In Network" />
                    <apex:inputCheckbox value="{!inNetwork}" selected="true"/>
                </apex:pageBlockSectionItem> 


            </apex:pageBlockSection>

            <apex:pageBlockSection >
                <div align="center">
                    <apex:commandButton value="Search" action="{!search}">
                            <apex:actionSupport event="onclick" 
                                                action="{!search}" 
                                                rerender="resultsBlock"
                            />
                    </apex:commandButton>
                </div> 
            </apex:pageBlockSection>

        </apex:pageBlock>
    </apex:form>

    <apex:pageBlock >
        <apex:pageBlockSection columns="1">
            <apex:outputPanel rendered="{!isRendered}">

                <apex:pageBlockTable value="{!foundDocs}" var="doctor" id="resultsBlock">

                    <apex:column >
                        <apex:form >
                            <apex:facet name="header">Doctor Name</apex:facet>
                            <apex:commandLink value="{!doctor.firstName} {!doctor.lastName}"
                                                action="{!getDocInfo}" />
                        </apex:form>

                    </apex:column>
                    <apex:column value="{!doctor.Account.Name}" >
                        <apex:facet name="header">Practice Name</apex:facet>
                    </apex:column>
                    <apex:column value="{!doctor.Account.BillingStreet}" >
                        <apex:facet name="header">Street</apex:facet>
                    </apex:column>
                    <apex:column value="{!doctor.Account.BillingCity}" >
                        <apex:facet name="header">City</apex:facet>
                    </apex:column>
                    <apex:column value="{!doctor.Account.BillingState}" >
                        <apex:facet name="header">State</apex:facet>
                    </apex:column>
    
                </apex:pageBlockTable>

            </apex:outputPanel>


        </apex:pageBlockSection>
    </apex:pageBlock>
    
</apex:page>

        <!-- <div class="slds-grid slds-gutters">
            <div class="slds-col">
                <span>
                   <apex:pageBlockSection >
                        <apex:commandButton value="Search" action="{!search}">
                                <apex:actionSupport event="onclick" 
                                                    action="{!search}" 
                                                    rerender="resultsColumn" />
                        </apex:commandButton>
                   </apex:pageBlockSection>
                    
                    
                    <apex:pageMessages ></apex:pageMessages>


                    <apex:pageBlockSection > 
                        <apex:pageBlockSectionItem >
                            Gender
                            <apex:selectList size="1" value="{!genderSelection}">
                                <apex:selectOptions value="{!genderItems}"/>  
                            </apex:selectList>
                        </apex:pageBlockSectionItem>     
                    </apex:pageBlockSection>

                    <apex:pageBlockSection > 
                        <apex:pageBlockSectionItem >
                            Age
                            <apex:selectList size="1" value="{!ageSelection}">
                                <apex:selectOptions value="{!ageItems}"/>  
                            </apex:selectList>
                        </apex:pageBlockSectionItem>     
                    </apex:pageBlockSection>
                    
                    <apex:pageBlockSection >
                        <apex:pageBlockSectionItem >
                            Language
                            <apex:selectList size="1" value="{!languageSelection}">
                                <apex:selectOptions value="{!languageItems}"/>  
                            </apex:selectList>
                        </apex:pageBlockSectionItem>
                    </apex:pageBlockSection>
                    
                    <apex:pageBlockSection > 
                        <apex:pageBlockSectionItem >
                            Specialization
                            <apex:selectList size="1" value="{!specialSelect}">
                                <apex:selectOptions value="{!specializationItems}"/>  
                            </apex:selectList>
                        </apex:pageBlockSectionItem>     
                    </apex:pageBlockSection>
                    
                    <apex:pageBlockSection > 
                        <apex:pageBlockSectionItem >
                            Traveling from
                            <apex:outputText value="{!defaultaddr}" />
                        </apex:pageBlockSectionItem>     
                    </apex:pageBlockSection>

                    <apex:pageBlockSection > 
                        <apex:pageBlockSectionItem >
                            In Network
                            <apex:inputCheckbox value="{!inNetwork}" selected="true"/>
                        </apex:pageBlockSectionItem>     
                    </apex:pageBlockSection>
                </span>
            </div>

            <div class="slds-col" >
                    
                <span>
                
                    <apex:pageBlockSection >

                        <apex:pageBlockTable value="{!foundDocs}" var="doctor" id="resultsColumn">

                            <apex:column value="{!doctor.FirstName} {!doctor.LastName} "/>
                            <apex:column value="{!doctor.Account.Name}" />
                            <apex:column value="{!doctor.Account.BillingStreet}" />
                            <apex:column value="{!doctor.Account.BillingCity}" />
                            <apex:column value="{!doctor.Account.BillingState}" />

                        </apex:pageBlockTable>


                    </apex:pageBlockSection>
                    
                </span>
            </div>
        </div> -->